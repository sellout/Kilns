;;; The Y combinator
(define (Y ?process ?pattern {?u})
  (new y ;; TODO: once definitions are localized, move this outside the define.
    (trigger (par pattern {u ?y})
      process
      y
      {u y})))

;;; A replicating trigger
(define (trigger* ?pattern ?process)
  (new t
    (Y process pattern {t})
    {t (Y process pattern {t})}))
