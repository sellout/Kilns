(load "library/test-framework")

{test-result {should {match}}
             {test (load "library/simple-components")
                   {include-component "library/identity"}
                   {= (tup {this (tup {is} (par {a} {test}))}
                           {this (tup {is} (par {a} {test}))}
                           {rc {t}}
                           {rc {f}})}}
             {expected-result {rc {t}}}}

{test-result {should {not-match}}
             {test (load "library/simple-components")
                   {include-component "library/identity"}
                   {= (tup {this (tup {is} {not} (par {a} {test}))}
                           {this (tup {is} (par {a} {test}))}
                           {rc {t}}
                           {rc {f}})}}
             {expected-result {rc {f}}}}
